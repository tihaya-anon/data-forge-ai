{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AI Agent 任务定义",
  "description": "并行 AI Agent 开发的任务定义文件",
  "type": "object",
  "properties": {
    "任务": {
      "type": "object",
      "properties": {
        "编号": { "type": "string" },
        "名称": { "type": "string" },
        "状态": { 
          "type": "string",
          "enum": ["待处理", "进行中", "已完成", "已阻塞"]
        },
        "优先级": {
          "type": "string",
          "enum": ["低", "中", "高", "紧急"]
        },
        "分配": {
          "type": "object",
          "properties": {
            "agent": { "type": "string" },
            "分支": { "type": "string" },
            "工作区": { "type": "string" },
            "分配时间": { "type": ["string", "null"] }
          }
        },
        "描述": { "type": "string" },
        "目标": {
          "type": "array",
          "items": { "type": "string" }
        },
        "范围": {
          "type": "object",
          "properties": {
            "允许路径": {
              "type": "array",
              "items": { "type": "string" }
            },
            "禁止路径": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "依赖": {
          "type": "object",
          "properties": {
            "前置任务": {
              "type": "array",
              "items": { "type": "string" }
            },
            "阻塞任务": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "接口": {
          "type": "object",
          "properties": {
            "提供": { "type": "array" },
            "消费": { "type": "array" }
          }
        },
        "技术要求": {
          "type": "object",
          "properties": {
            "语言": { "type": "string" },
            "框架": { "type": "string" },
            "设计模式": {
              "type": "array",
              "items": { "type": "string" }
            },
            "测试": {
              "type": "object",
              "properties": {
                "必需": { "type": "boolean" },
                "最低覆盖率": { "type": "number" },
                "类型": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              }
            }
          }
        },
        "验收标准": {
          "type": "array",
          "items": { "type": "string" }
        },
        "参考资料": {
          "type": "object",
          "properties": {
            "文档": {
              "type": "array",
              "items": { "type": "string" }
            },
            "示例": {
              "type": "array",
              "items": { "type": "string" }
            },
            "相关任务": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "进度": {
          "type": "object",
          "properties": {
            "开始时间": { "type": ["string", "null"] },
            "完成时间": { "type": ["string", "null"] },
            "预估工时": { "type": ["number", "null"] },
            "实际工时": { "type": ["number", "null"] },
            "笔记": { "type": "array" },
            "阻塞项": { "type": "array" }
          }
        },
        "元信息": {
          "type": "object",
          "properties": {
            "创建时间": { "type": ["string", "null"] },
            "更新时间": { "type": ["string", "null"] },
            "创建者": { "type": "string" },
            "版本": { "type": "number" }
          }
        }
      },
      "required": ["编号", "名称", "状态"]
    }
  },
  "required": ["任务"]
}
