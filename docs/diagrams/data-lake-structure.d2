# 数据湖目录结构
# 展示 S3 上数据湖的分层存储结构（紧凑布局）

direction: down

title: {
  label: 数据湖目录结构
  near: top-center
  shape: text
  style: {
    font-size: 24
    bold: true
    font-color: "#37474f"
  }
}

root: "s3://dataforge-lake/" {
  shape: rectangle
  style: {
    fill: "#9fa8da"
    stroke: "#7986cb"
    border-radius: 8
    bold: true
    font-color: "#fff"
  }
}

training: "training_data/" {
  style: {
    fill: "#f5f5f5"
    stroke: "#78909c"
    border-radius: 8
  }

  grid-columns: 2
  grid-gap: 8

  domain_general: "domain=general/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  domain_code: "domain=code/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  domain_math: "domain=math/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  domain_instruction: "domain=instruction/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }
}

knowledge: "knowledge_base/" {
  style: {
    fill: "#f5f5f5"
    stroke: "#78909c"
    border-radius: 8
  }

  grid-columns: 3
  grid-gap: 8

  source_confluence: "source=confluence/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  source_git: "source=git/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  source_docs: "source=docs/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }
}

metadata: "metadata/" {
  style: {
    fill: "#f5f5f5"
    stroke: "#78909c"
    border-radius: 8
  }

  grid-columns: 2
  grid-gap: 8

  data_quality: "data_quality/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }

  lineage: "lineage/" {
    style: {
      fill: "#e8eaf6"
      border-radius: 4
    }
  }
}

root -> training {
  style: {
    stroke: "#78909c"
    stroke-width: 2
  }
}

root -> knowledge {
  style: {
    stroke: "#78909c"
    stroke-width: 2
  }
}

root -> metadata {
  style: {
    stroke: "#78909c"
    stroke-width: 2
  }
}
